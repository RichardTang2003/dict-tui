# dict-tui

一个基于 Rust 的终端词典工具，读取 `Mdict (.mdx)` 词典并提供实时查询界面，希望提供与 iOS 词典相近的体验。

## 功能

- 启动时递归扫描词典目录（支持子文件夹）并建立词条索引。
- 输入时动态查词：每次输入或删除字符都会刷新结果。
- 双栏显示：
  - 左栏：匹配词条列表
  - 右栏：词条详情（HTML 清洗为纯文本）
- 支持详情滚动与词条切换。
- 支持打开当前词条的网页预览。

## 键位

- `,` / `.`（含 `<` / `>`）：切换词条
- `↑` / `↓`：滚动右侧详情
- `Ctrl+O` 或 `F2`：打开当前词条网页预览
- `Esc`：退出程序

## 词典目录

程序默认读取 `./dictionary`。如果未找到可用 `.mdx` 文件，会在启动时提示手动输入词典目录路径。  
会递归读取目录下所有 `.mdx` 文件。  
词条来源名称使用“词典文件所在文件夹名”。

## 使用

```bash
cargo run --release
```

## 代码结构

- `src/main.rs`：程序入口，负责启动流程。
- `src/dictionary.rs`：词典扫描、加载、索引、按词条读取原始内容。
- `src/cache.rs`：查询结果缓存与词条详情缓存。
- `src/render.rs`：HTML 清洗（TUI 文本渲染）与网页预览文件生成/打开。
- `src/tui.rs`：终端 UI、键盘交互、列表与详情渲染。
